(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-438d403e"],{"27b0":function(e,t,i){"use strict";i("dc8a")},5676:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",e._g(e._b({class:{hideUpload:e.value.length>=e.limit},attrs:{"list-type":"picture-card",drag:!0,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.onSuccess,"on-error":e.onError,"on-exceed":e.onExceed,"http-request":e.uploadFile,"file-list":e.value}},"el-upload",e.$props,!1),e.$listeners),[i("i",{staticClass:"el-icon-plus",attrs:{title:"将文件拖到此处，或点击上传"}})]),i("el-dialog",{attrs:{visible:e.dialogVisible,title:"图片预览",top:"1vh","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},n=[],l=(i("a9e3"),{name:"MUpload",props:Object.assign({},{action:{type:String,default:"/file/upload"},limit:{type:Number,default:1},value:{type:Array,default:function(){return[]}},headers:{type:Object,default:function(){return{}}}}),data:function(){return{dialogVisible:!1,dialogImageUrl:""}},watch:{value:function(e){console.log("watch.value:",e)}},created:function(){console.log("props:",this.$props)},mounted:function(){},methods:{handleRemove:function(e,t){this.$emit("input",t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},onExceed:function(e,t){console.log("onExceed:",e,t),this.$message({message:"最多不能超过".concat(this.limit,"个文件"),type:"error",duration:5e3})},onSuccess:function(e,t,i){if(console.log(e,t,i),2e4!==e.code)return i.pop(),this.$message({message:e.msg,type:"error",duration:3e3}),this.onError(e,t,i),!1;this.value.push(e.data),this.$emit("input",this.value)},onError:function(e,t,i){console.log("upload.error:",e,t,i)},uploadFile:function(e){var t=this,i=new FormData;i.append("file",e.file),this.$http.post("/file/upload",i).then((function(i){t.onSuccess(i,e.file,t.value)}))}}}),a=l,s=(i("27b0"),i("2877")),r=Object(s["a"])(a,o,n,!1,null,"c4da72c6",null);t["default"]=r.exports},dc8a:function(e,t,i){}}]);