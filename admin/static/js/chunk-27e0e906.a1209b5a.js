(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27e0e906"],{"7eea":function(e,t,a){"use strict";a("cdfb")},cdfb:function(e,t,a){},d0d7:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",e._g(e._b({ref:"form",attrs:{model:e.formData,"status-icon":""}},"el-form",e.$props,!1),e.$listeners),[a("el-row",{attrs:{gutter:e.gutter}},e._l(e.columnsRender,(function(t,o){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],key:o,attrs:{span:t.span||e.span}},[t.type?a("el-form-item",e._b({},"el-form-item",t,!1),["select"===t.type?a("el-select",e._g(e._b({model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},"el-select",t.attr,!1),t.on),e._l(t.options,(function(t){return a("el-option",e._b({key:t.value},"el-option",t,!1))})),1):"radio"===t.type?a("el-radio-group",e._g(e._b({model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},"el-radio-group",t.attr,!1),t.on),e._l(t.options,(function(t){return a("el-radio",e._b({key:t.value,attrs:{label:t.value}},"el-radio",t,!1),[e._v(e._s(t.label))])})),1):"checkbox"===t.type?a("el-checkbox-group",e._g(e._b({model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},"el-checkbox-group",t.attr,!1),t.on),e._l(t.options,(function(t){return a("el-checkbox",e._b({key:t.value,attrs:{label:t.value}},"el-checkbox",t,!1),[e._v(e._s(t.label))])})),1):"upload"===t.type?a("MUpload",e._b({model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},"MUpload",t.attr,!1)):a("el-"+t.type,e._g(e._b({tag:"component",attrs:{options:t.options},nativeOn:{keyup:function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;"textarea"!==t.attr.type&&e.submit()}},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},"component",t.attr,!1),t.on))],1):e._e()],1)})),1)],1)],1)},r=[],n=a("ade3"),l=a("5530"),i=(a("99af"),a("4de4"),a("caad"),a("a15b"),a("d81d"),a("a9e3"),a("b64b"),a("d3b7"),a("2532"),a("159b"),a("ed08")),c=a("5c96"),s={name:"MForm",inheritAttrs:!1,props:Object.assign(Object(l["a"])({},c["Form"].props),{columns:{type:Array,default:function(){return[]}},labelWidth:{type:[String],default:"90px"},gutter:{type:[Number],default:10},span:{type:[Number],default:8}}),data:function(){return{columnsRender:[],formData:{}}},computed:{},watch:{},created:function(){this.createForm()},mounted:function(){},methods:{createForm:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formData=Object(l["a"])({},t),this.columns.forEach((function(a){e.$set(e.formData,a.prop,void 0!==t[a.prop]?t[a.prop]:a.value),a.propName&&e.$set(e.formData,a.propName,t[a.propName]);var o={};a.attr||(a.attr={}),o.placeholder=("input"===a.type?"请输入":"请选择")+a.label,"date-picker"===a.type&&(o.valueFormat="yyyy-MM-dd"),"upload"===a.type&&(a.span=a.span||24,Object.assign(o,{})),"select"===a.type&&(o.filterable=!0,a.request&&e.loadData(a)),"checkbox"===a.type&&(e.formData[a.prop]=e.formData[a.prop]||[]);var r=["select","radio","checkbox"];if(r.includes(a.type)&&(a.attr.props=Object.assign({value:"value",label:"label"},a.attr.props),Object.assign(a,{options:[],change:function(){}},Object(l["a"])({},a))),a.dictionary){var n=e.$store.state.app.dictionary[a.dictionary];n?a.options=n.options||[]:console.warn("字段[".concat(a.prop,"-").concat(a.label,"]未匹配到字典类型：").concat(a.dictionary))}a.attr=Object(l["a"])(Object(l["a"])({},o),a.attr),a.rules&&!a.rules.message&&(a.rules.message=o.placeholder)})),this.columnsRender=this.columns.map((function(e){var t=e.attr;return Object(l["a"])(Object(l["a"])({},e),{},{attr:Object(l["a"])({clearable:!0},t)})})),this.columnsRender.forEach((function(t){t.on||(t.on={}),Object.keys(t).forEach((function(a){"function"===typeof t[a]&&(t.on[a]=function(o){if(t.propName){var r=t.options.filter((function(e){return t.attr.multiple?o.includes(e.value):o===e.value})).map((function(e){return e.label}));e.formData[t.propName]=r.join(",")}t[a](o,e)},t[a](e.formData[t.prop],e))}))}))},submit:function(e){var t=this;this.$refs.form.validate((function(a){a?e?e(t.formData):t.$emit("submit",t.formData):console.log("error submit!!")}))},setFields:function(e){var t=this;Object.keys(e).forEach((function(a){var o=t.columnsRender.filter((function(e){return e.prop===a}))[0];o?Object(i["deepMerge"])(o,e[a]):console.warn(a,"不存在")}))},resetFields:function(){this.$refs.form.resetFields(),this.createForm()},validate:function(e){this.$refs.form.validate(e)},validateField:function(e,t){this.$refs.form.validateField(e,t)},clearValidate:function(e){this.$refs.form.clearValidate(e)},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},loadData:function(e){var t=this;this.$http(e.request).then((function(a){var o=(a.data.records||a.data).map((function(t){var a=t[e.attr.props.value],o=t[e.attr.props.label];return{value:a,label:o}}));t.setFields(Object(n["a"])({},e.prop,{options:o}))}))}}},p=s,u=(a("7eea"),a("2877")),f=Object(u["a"])(p,o,r,!1,null,"3b5dce22",null);t["default"]=f.exports}}]);